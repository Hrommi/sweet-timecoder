{"version":3,"sources":["components/SelectVideo/SelectVideo.js","components/VideoPlayer/VideoPlayer.js","components/RecordIcon/RecordIcon.js","components/Actions/Actions.js","hooks/useKeyPress.js","components/Timecodes/Timecodes.js","components/App/App.js","index.js"],"names":["SelectVideo","selectVideo","type","accept","onChange","VideoPlayer","url","innerRef","ref","src","autoHide","seconds","order","RecordIcon","rec","className","Actions","toggleRecord","isRecording","recordPress","targetKey","React","useState","keyPressed","setKeyPressed","downHandler","useCallback","key","upHandler","useEffect","document","addEventListener","removeEventListener","useKeyPress","onClick","formatteTime","time","padZero","num","toString","padStart","hours","Math","floor","minutes","Timecodes","timecodes","removeTimecode","map","id","start","end","App","video","setVideo","playerRef","useRef","undefined","startRecordTime","setStartRecordTime","setTimecodes","currentTime","current","getState","player","Date","now","pause","play","newTimecodes","filter","timecode","event","URL","createObjectURL","target","files","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bc7ae13c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst SelectVideo = ({ selectVideo }) => {\n  return (\n    <input\n      type=\"file\"\n      accept=\"video/mp4,video/x-m4v,video/*\"\n      onChange={selectVideo}\n    />\n  );\n};\n\nexport default SelectVideo;\n","import React from \"react\";\nimport { Player, ControlBar, ReplayControl, ForwardControl } from \"video-react\";\n\nimport \"../../../node_modules/video-react/dist/video-react.css\";\n\nconst VideoPlayer = ({ url, innerRef }) => {\n  return (\n    <Player ref={innerRef}>\n      <source src={url} />\n      <ControlBar autoHide={false}>\n        <ReplayControl seconds={5} order={2.1} />\n        <ForwardControl seconds={5} order={3.1} />\n      </ControlBar>\n    </Player>\n  );\n};\n\nexport default VideoPlayer;\n","import React from \"react\";\n\nimport \"./RecordIcon.css\";\n\nconst RecordIcon = ({ rec }) => {\n  return (\n    <span className={`record-icon${rec ? \" record-icon--rec\" : \"\"}`}></span>\n  );\n};\n\nexport default RecordIcon;\n","import React from \"react\";\n\nimport RecordIcon from \"../RecordIcon\";\n\nimport { useKeyPress } from \"../../hooks/useKeyPress\";\n\nconst Actions = ({ toggleRecord, isRecording }) => {\n  const handleRecord = () => {\n    toggleRecord();\n  };\n\n  const recordPress = useKeyPress(\"Enter\");\n  React.useEffect(() => {\n    if (recordPress) {\n      toggleRecord();\n    }\n  }, [recordPress]);\n\n  return (\n    <div>\n      <button type=\"button\" onClick={handleRecord}>\n        Record <RecordIcon rec={isRecording} />\n      </button>\n    </div>\n  );\n};\n\nexport default Actions;\n","import React from \"react\";\n\nfunction useKeyPress(targetKey) {\n  const [keyPressed, setKeyPressed] = React.useState(false);\n\n  const downHandler = React.useCallback(\n    ({ key }) => {\n      if (key === targetKey) {\n        setKeyPressed(true);\n      }\n    },\n    [targetKey]\n  );\n\n  const upHandler = React.useCallback(\n    ({ key }) => {\n      if (key === targetKey) {\n        setKeyPressed(false);\n      }\n    },\n    [targetKey]\n  );\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", downHandler);\n    document.addEventListener(\"keyup\", upHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", downHandler);\n      document.removeEventListener(\"keyup\", upHandler);\n    };\n  }, [downHandler, upHandler]);\n\n  return keyPressed;\n}\n\nexport { useKeyPress };\n","import React from \"react\";\n\nconst formatteTime = time => {\n  const padZero = num => num.toString().padStart(2, \"0\");\n\n  const hours = Math.floor(time / 3600);\n  const minutes = Math.floor((time - hours * 3600) / 60);\n  const seconds = Math.floor(time - hours * 3600 - minutes * 60);\n\n  return `${hours ? `${hours}:` : \"\"}${padZero(minutes)}:${padZero(seconds)}`;\n};\n\nconst Timecodes = ({ timecodes, removeTimecode }) => {\n  const renderTimecode = ({ id, start, end }) => {\n    return (\n      <div key={id}>\n        {formatteTime(start)} - {formatteTime(end)}{\" \"}\n        <button onClick={removeTimecode(id)}>remove</button>\n      </div>\n    );\n  };\n\n  return <div>{timecodes.map(renderTimecode)}</div>;\n};\n\nexport default Timecodes;\n","import React from \"react\";\nimport \"./App.css\";\n\nimport SelectVideo from \"../SelectVideo\";\nimport VideoPlayer from \"../VideoPlayer\";\nimport Actions from \"../Actions\";\nimport Timecodes from \"../Timecodes\";\n\nfunction App() {\n  const [video, setVideo] = React.useState();\n  const selectVideo = event => {\n    setVideo(URL.createObjectURL(event.target.files[0]));\n  };\n\n  const playerRef = React.useRef(null);\n\n  const [startRecordTime, setStartRecordTime] = React.useState(undefined);\n  const toggleRecord = () => {\n    const { player } = playerRef.current.getState();\n    const currentTime = player.currentTime;\n    if (typeof startRecordTime !== \"undefined\") {\n      setTimecodes([\n        ...timecodes,\n        { id: Date.now().toString(), start: startRecordTime, end: currentTime }\n      ]);\n      setStartRecordTime(undefined);\n      playerRef.current.pause();\n    } else {\n      setStartRecordTime(currentTime);\n      playerRef.current.play();\n    }\n  };\n\n  const [timecodes, setTimecodes] = React.useState([]);\n  const removeTimecode = id => () => {\n    const newTimecodes = timecodes.filter(timecode => timecode.id !== id);\n    setTimecodes(newTimecodes);\n  };\n\n  return (\n    <div className=\"app\">\n      {video ? (\n        <div className=\"app__container\">\n          <div className=\"app__video\">\n            <VideoPlayer url={video} innerRef={playerRef} />\n          </div>\n          <div className=\"app__actions\">\n            <Actions\n              toggleRecord={toggleRecord}\n              isRecording={typeof startRecordTime === \"number\"}\n            />\n          </div>\n          <div className=\"app_timecodes\">\n            <Timecodes timecodes={timecodes} removeTimecode={removeTimecode} />\n          </div>\n        </div>\n      ) : (\n        <div className=\"app__select-file\">\n          <SelectVideo selectVideo={selectVideo} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}