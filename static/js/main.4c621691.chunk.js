(window["webpackJsonpsweet-timecoder"]=window["webpackJsonpsweet-timecoder"]||[]).push([[0],{157:function(e,t,n){e.exports=n(266)},162:function(e,t,n){},163:function(e,t,n){},191:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(8),o=n.n(c),i=(n(162),n(155)),l=n(49),u=(n(163),function(e){var t=e.selectVideo;return r.a.createElement("input",{type:"file",accept:"video/mp4,video/x-m4v,video/*",onChange:t})}),s=n(50),d=n(148),m=n.n(d),f=n(270),p=(n(95),n(190),n(191),function(e,t){return(e/t*100).toFixed(4)}),v=function(e){var t=e.timecodes,n=e.url,a=e.innerRef,c=r.a.useMemo((function(){if(!a.current)return"none";var e=a.current.getState().player.duration;return t.map((function(t){var n="".concat(p(t.start,e),"%"),a="".concat(p(t.end,e),"%");return"linear-gradient(to right,".concat("rgba(0, 0, 0, 0)"," 0%,").concat("rgba(0, 0, 0, 0)"," ").concat(n,",").concat("rgba(255, 0, 0, 0.5)"," ").concat(n,",").concat("rgba(255, 0, 0, 0.5)"," ").concat(a,",").concat("rgba(0, 0, 0, 0)"," ").concat(a,",").concat("rgba(0, 0, 0, 0)"," 100%)")})).join(",")}),[t,a]);return r.a.createElement(f.a,{size:"small"},r.a.createElement(m.a,null,".video-player__progress .video-react-load-progress:after {\n          background: ".concat(c,";\n        }")),r.a.createElement(s.Player,{ref:a},r.a.createElement("source",{src:n}),r.a.createElement(s.ControlBar,{autoHide:!1},r.a.createElement(s.ReplayControl,{seconds:5,order:2.1}),r.a.createElement(s.ForwardControl,{seconds:5,order:3.1}),r.a.createElement(s.ProgressControl,{className:"video-player__progress",order:5.1}))))},E=n(271);n(144);var g=function(e){var t=e.toggleRecord,n=e.isRecording,a=function(e){var t=r.a.useState(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],o=r.a.useCallback((function(t){t.key===e&&c(!0)}),[e]),i=r.a.useCallback((function(t){t.key===e&&c(!1)}),[e]);return r.a.useEffect((function(){return document.addEventListener("keydown",o),document.addEventListener("keyup",i),function(){document.removeEventListener("keydown",o),document.removeEventListener("keyup",i)}}),[o,i]),a}("Enter");return r.a.useEffect((function(){a&&t()}),[a,t]),r.a.createElement(f.a,{size:"small",title:"Actions"},r.a.createElement(E.a,{type:"danger",icon:n?"pause-circle":"play-circle",onClick:function(){t()}},"Record"))},y=n(269),b=(n(267),function(e){var t=function(e){return e.toString().padStart(2,"0")},n=Math.floor(e/3600),a=Math.floor((e-3600*n)/60),r=Math.floor(e-3600*n-60*a);return"".concat(n?"".concat(n,":"):"").concat(t(a),":").concat(t(r))}),k=function(e){var t=e.timecodes,n=e.removeTimecode;return r.a.createElement(f.a,{size:"small",title:"Timecodes"},r.a.createElement(y.a,{size:"small",dataSource:t,renderItem:function(e){var t=e.id,a=e.start,c=e.end;return r.a.createElement(y.a.Item,{key:t},r.a.createElement(y.a.Item.Meta,{description:"".concat(b(a)," - ").concat(b(c))}),r.a.createElement(E.a,{type:"link",size:"small",icon:"close-circle",onClick:n(t)}))}}))};var _=function(){var e=r.a.useState(),t=Object(l.a)(e,2),n=t[0],a=t[1],c=r.a.useRef(null),o=r.a.useRef(void 0),s=r.a.useCallback((function(){var e=c.current.getState().player.currentTime;"undefined"!==typeof o.current?(p((function(t){return[].concat(Object(i.a)(t),[{id:Date.now().toString(),start:o.current,end:e}])})),o.current=void 0,_(!1),c.current.pause()):(o.current=e,_(!0),c.current.play())}),[]),d=r.a.useState([]),m=Object(l.a)(d,2),f=m[0],p=m[1],E=r.a.useState(!1),y=Object(l.a)(E,2),b=y[0],_=y[1];return r.a.createElement("div",{className:"app"},n?r.a.createElement("div",{className:"app__container"},r.a.createElement("div",{className:"app__video"},r.a.createElement(v,{timecodes:f,url:n,innerRef:c})),r.a.createElement("div",{className:"app__actions"},r.a.createElement(g,{toggleRecord:s,isRecording:b})),r.a.createElement("div",{className:"app_timecodes"},r.a.createElement(k,{timecodes:f,removeTimecode:function(e){return function(){var t=f.filter((function(t){return t.id!==e}));p(t)}}}))):r.a.createElement("div",{className:"app__select-file"},r.a.createElement(u,{selectVideo:function(e){a(URL.createObjectURL(e.target.files[0]))}})))};o.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.4c621691.chunk.js.map